version: 2

models:
  - name: dim_customers
    description: "Dimension table for customers"
    columns:
      - name: customer_id
      - name: first_name
      - name: last_name
      - name: full_name
      - name: street
      - name: city
      - name: state
      - name: zipcode
      - name: first_order_date
      - name: total_order_value
      - name: avg_order_value
      - name: etl_load_timestamp
  - name: top_products
    description: "Products with highest revenue"
    columns:
      - name: product_id
      - name: product_name
      - name: category_id
      - name: category_name
      - name: department_id
      - name: department_name
      - name: total_revenue
      - name: etl_load_timestamp
  - name: sales_metrics
    description: "Daily sales metrics"
    columns:
      - name: order_date
      - name: daily_revenue
      - name: daily_total_orders
      - name: daily_units_sold
      - name: daily_avg_order_value
      - name: rolling_7_days
      - name: rolling_30_days
      - name: etl_load_timestamp
  - name: customer_order_count
    description: "Count of customer orders"
    columns:
      - name: customer_id
      - name: num_orders
      - name: num_completed_orders
      - name: num_pending_orders
      - name: num_closed_orders
      - name: num_suspected_fraud_orders
      - name: etl_load_timestamp
  - name: customer_cohorts
    description: "Cohort analysis of customers"
    columns:
      - name: cohort_month,
      - name: activity_month,
      - name: month_number,
      - name: active_customers,
      - name: retenton_rate
      - name: etl_load_timestamp

